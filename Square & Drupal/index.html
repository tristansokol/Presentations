<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Taking Payments with Square</title>
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/square-custom.css">
	<!-- Favicon -->
	<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico" />

	<!-- Custom Square Market Font -->
	<link rel="stylesheet" href="https://d1g145x70srn7h.cloudfront.net/fonts/sqmarket/sq-market.css" />
	<!-- Presentation specific stylings -->
	<link rel="stylesheet" href="css/style.css">
	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/zenburn.css">
	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>
	<!-- Square js -->
	<script type="text/javascript" src="https://js.squareup.com/v2/paymentform"></script>
	<!--  javascript  powering different parts of this presentation -->
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section id="slide0">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="200" height="200">
					<path d="M36.65 0h-29.296c-4.061 0-7.354 3.292-7.354 7.354v29.296c0 4.062 3.293 7.354 7.354 7.354h29.296c4.062 0 7.354-3.292 7.354-7.354v-29.296c.001-4.062-3.291-7.354-7.354-7.354zm-.646 33.685c0 1.282-1.039 2.32-2.32 2.32h-23.359c-1.282 0-2.321-1.038-2.321-2.32v-23.36c0-1.282 1.039-2.321 2.321-2.321h23.359c1.281 0 2.32 1.039 2.32 2.321v23.36z"></path>
					<path d="M17.333 28.003c-.736 0-1.332-.6-1.332-1.339v-9.324c0-.739.596-1.339 1.332-1.339h9.338c.738 0 1.332.6 1.332 1.339v9.324c0 .739-.594 1.339-1.332 1.339h-9.338z"></path>
				</svg>
				<h1>Taking a payment with Square</h1>
			</section>
			<section>Hi I'm tristan</section>
			<section id="slide2">
				
			</section>
			<section id="slide3" data-background-color="rgb(250,250,250)">
				<img src="img/developer-offerings.png">
			</section>
			<section id="slide4">
				<p>e-commerce</p>
				<pre><code data-trim >
					<!-- Embed this in your <head> -->
					<script
						type="text/javascript"
						src="https://js.squareup.com/v2/paymentform">
					</script>
				</code></pre>
			</section>
			<section id="slide5" data-background-color="rgb(63,63,63)">
				<pre class="fragment"><code data-trim>
					<label>Card Number</label>
					<div id="sq-card-number"></div>
					<label>CVV</label>
					<div id="sq-cvv"></div>
					<label>Expiration Date</label>
					<div id="sq-expiration-date"></div>
					<label>Postal Code</label>
					<div id="sq-postal-code"></div>
				</code></pre>
				<div class="compact-form fragment">
					<div class="flex-grid" style="border-bottom: solid #D0D3D3 2px;margin-bottom: 15px">
						<div class="col">
							<label>Card Number</label>
							<div id="sq-card-number-5"></div>
						</div>
					</div>
					<div class="flex-grid">
						<div class="minigroup" style="border-right: solid #D0D3D3 2px;margin-right: 15px">
							<label>Expiration Date</label>
							<div id="sq-expiration-date-5"></div>
						</div>
						<div class="minigroup" style="border-right: solid #D0D3D3 2px;margin-right: 15px">
							<label>Postal Code</label>
							<div id="sq-postal-code-5"></div>
						</div>
						<div class="minigroup">
							<label>CVV</label>
							<div id="sq-cvv-5"></div>
						</div>
					</div>
				</div>
			</section>
			<section id="slide6">
				<div class="compact-form">
					<div class="flex-grid" style="border-bottom: solid #D0D3D3 2px;margin-bottom: 15px">
						<div class="col">
							<label>Card Number</label>
							<div id="sq-card-number-6">ssdf</div>
						</div>
					</div>
					<div class="flex-grid">
						<div class="minigroup" style="border-right: solid #D0D3D3 2px;margin-right: 15px">
							<label>Expiration Date</label>
							<div id="sq-expiration-date-6">ss</div>
						</div>
						<div class="minigroup" style="border-right: solid #D0D3D3 2px;margin-right: 15px">
							<label>Postal Code</label>
							<div id="sq-postal-code-6">sss</div>
						</div>
						<div class="minigroup">
							<label>CVV</label>
							<div id="sq-cvv-6">sss</div>
						</div>
					</div>
				</div>
				<div style="color:#AAA">Card Nonce:<span style="color:black" id="6-nonce"></span></div>
				<input type="submit" onclick="requestCardNonce(event)">
			</section>
			<section>
				<section id="slide7">
					<p>Charge Endpoint</p>
					<pre><code data-trim >
POST /v2/locations/LOCATION_ID/transactions  {

"idempotency_key": "74ae1696-b1e3-4328-af6d-f1e04d947a13",
"amount_money": {
	"amount": 5000,  
	"currency": "USD"
},
"card_nonce": "card_nonce_from_square_123"
}</code></pre> 
			</section>

			<section>
				<pre><code data-trim data-noescape>
curl -X POST \
https://connect.squareup.com/v2/locations/CBASEM9Ry3uB-6qCeuoZP6wRR7k/transactions \
-H 'authorization: Bearer sq0atb-tsn132D7btUhW3uL_y5I3w' \
-H 'content-type: application/json' \
-d '{
"idempotency_key": "<span id="idem"></span>",
"amount_money": {
"amount": 100,
"currency": "USD"
},
"card_nonce": "<span id="7-nonce"></span>"
}' | python -m json.tool</code></pre>
		</section>
	</section>
	<section>
		<section id="slide8">
			Recurring payments?
			<img class="fragment" src="img/cardonfile.png">
		</section>
		<section>

			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" width="200" height="200">
				<circle fill="none" stroke="#2E3B4E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="21.1" cy="35" r="5" />
				<path fill="none" stroke="#2E3B4E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M28.2,46.5C26.6,44.4,24,43,21.1,43s-5.5,1.4-7.1,3.5" />
				<line fill="none" stroke="#2E3B4E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="38" y1="29" x2="66" y2="29" />
				<line fill="none" stroke="#2E3B4E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="38" y1="35" x2="51" y2="35" />
				<line fill="none" stroke="#2E3B4E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="38" y1="41" x2="66" y2="41" />
				<line fill="none" stroke="#2E3B4E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="38" y1="47" x2="61" y2="47" />
				<path fill="none" stroke="#2E3B4E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M4,16H2c-0.5,0-1,0.5-1,1v51c0,0.6,0.5,1,1,1h16c0.5,0,1-0.4,1-1v-0.6c0-0.5-0.3-1.3-0.7-1.7c0,0-1.3-1.3-1.3-2.7c0-2.2,1.8-4,4-4 s4,1.8,4,4c0,1.5-1.3,2.7-1.3,2.7c-0.4,0.4-0.7,1.2-0.7,1.7V68c0,0.6,0.5,1,1,1h32c0.5,0,1-0.4,1-1v-0.6c0-0.5-0.3-1.3-0.7-1.7 c0,0-1.3-1.3-1.3-2.7c0-2.2,1.8-4,4-4s4,1.8,4,4c0,1.5-1.3,2.7-1.3,2.7c-0.4,0.4-0.7,1.2-0.7,1.7V68c0,0.6,0.5,1,1,1h16 c0.6,0,1-0.4,1-1V17c0-0.5-0.4-1-1-1H38" />
				<path fill="none" stroke="#2E3B4E" stroke-width="2" stroke-miterlimit="10" d="M4,16c0,0,0-1.1,0-2.5S5.8,11,8,11h26 c2.2,0,4,1.1,4,2.5s0,2.5,0,2.5" />
			</svg>
			<p>	Create a customer</p>
		</section>
		<section>
			<pre><code data-trim data-noescape>
curl -X POST \
https://connect.squareup.com/v2/customers \
-H 'authorization: Bearer sq0atb-tsn132D7btUhW3uL_y5I3w' \
-H 'content-type: application/json' \
-d '{
"given_name": "Veronica",
"family_name": "Slocombe",
"email_address": "V.Slocombe@example.com",
"note": "an exceptional customer"
}' | python -m json.tool
		</code></pre>
	</section>
	<section>
		Create a card Nonce
		<div class="compact-form">
			<div class="flex-grid" style="border-bottom: solid #D0D3D3 2px;margin-bottom: 15px">
				<div class="col">
					<label>Card Number</label>
					<div id="sq-card-number-8">ssdf</div>
				</div>
			</div>
			<div class="flex-grid">
				<div class="minigroup" style="border-right: solid #D0D3D3 2px;margin-right: 15px">
					<label>Expiration Date</label>
					<div id="sq-expiration-date-8">ss</div>
				</div>
				<div class="minigroup" style="border-right: solid #D0D3D3 2px;margin-right: 15px">
					<label>Postal Code</label>
					<div id="sq-postal-code-8">sss</div>
				</div>
				<div class="minigroup">
					<label>CVV</label>
					<div id="sq-cvv-8">sss</div>
				</div>
			</div>
		</div>
		<div style="color:#AAA">Card Nonce:<span style="color:black" id="8-nonce"></span></div>
		<input type="submit" onclick="requestCardNonce8(event)">
	</section>
	<section>
		<p> 
			attach to customer: <input type="text" onchange="updateCustomer(this)">
		</p>

		<pre><code data-trim data-noescape>
curl -X POST \
https://connect.squareup.com/v2/customers/<span id="8-customer"></span>/cards \
-H 'authorization: Bearer sq0atb-tsn132D7btUhW3uL_y5I3w' \
-H 'content-type: application/json' \
-d '{
"card_nonce": "<span id="8-nonce1"></span>",
"billing_address": {
"address_line_1": "500 Electric Ave",
"address_line_2": "Suite 600",
"locality": "New York",
"administrative_district_level_1": "NY",
"postal_code": "11111",
"country": "US"
},
"cardholder_name": "Amelia Earhart"
}' | python -m json.tool
</code></pre>
</section>
<section>
	<p>Charge</p>
	<input type="text" onchange="updateCard(this)">
	<pre><code data-trim data-noescape>
		curl -X POST \
		https://connect.squareup.com/v2/locations/CBASEM9Ry3uB-6qCeuoZP6wRR7k/transactions \
		-H 'authorization: Bearer sq0atb-tsn132D7btUhW3uL_y5I3w' \
		-H 'content-type: application/json' \
		-d '{
		"idempotency_key": "<span id="8-idem"></span>",
		"amount_money": {
		"amount": 100,
		"currency": "USD"
		},
		"customer_id":"<span id="8-customer1"></span>",
		"customer_card_id":"<span id="8-customer-card"></span>"
		}' | python -m json.tool
</code></pre>
</section>
<section>
	<p>List Transactions</p>
		<pre><code data-trim data-noescape>
		curl -X GET \
		https://connect.squareup.com/v2/locations/CBASEM9Ry3uB-6qCeuoZP6wRR7k/transactions \
		-H 'authorization: Bearer sq0atb-tsn132D7btUhW3uL_y5I3w' \
		| python -m json.tool
		</code></pre>
</section>
</section>
<section>
	<section>
		<img src="img/checkout.png">
	</section>
<section id="slide9">
	<p>Square Checkout</p>
	<pre><code data-trim data-noescape>
curl -X POST \
https://connect.squareup.com/v2/locations/CBASEM9Ry3uB-6qCeuoZP6wRR7k/checkouts \
-H 'authorization: Bearer sq0atb-tsn132D7btUhW3uL_y5I3w' \
-H 'content-type: application/json' \
-d '{
"idempotency_key": "<span id="idem2"></span>",
"order": {
"line_items": [{
"name": "Spikey Succulent",
"quantity": "2",
"base_price_money": {
"amount": 1500,
"currency": "USD"
},
"discounts": [{
"name": "15% off mean looking item",
"percentage": "7"
}]
}],
"taxes": [{
"name": "Sales Tax",
"percentage": "8.5"
}]
},
"redirect_url": "https://giphy.com/search/happy"
}' | python -m json.tool</code></pre>
</section>
</section>
<section>
    <p>Point of Sale API</p>
    <video height="400px" controls autoplay>
        <source src="img/register-api.mp4" type="video/mp4">
            Your browser does not support HTML5 video. 
        </video>
        <a href="" id="chargeButton"><h5>Click here to checkout</h5></a>
    </section>
<!-- 		<section>
			Attaching a customer to a transaction 
			* Saving a card on file *
			*  Adding Point of Sale API functionality.
			*   * Next steps * How to get help.
		</section> -->
		<section>
			<p><a href="https://squareup.com/developers">square.com/developers</a></p>
			<p><a href="https://squ.re/slack">squ.re/slack</a></p>
			<p><a href="https://twitter.com/squaredev">@SquareDev</a></p>
			<p><a href="https://corner.squareup.com/">corner.squareup.com</a></p>
			<p><a href="http://tristansokol.github.io/Presentations/Taking%20a%20Payment%20with%20Square/">tristansokol.github.io/Presentations</a></p>
		</section>

	</div>
</div>
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script>
    var callbackUrl = 'https://giphy.com/search/success'
    var clientId = 'sq0idp-gbQhcOCpmb2X4W1588Ky7A'
    var iOSparameters = {
        "amount_money": {
            "amount": 100,
            "currency_code": "USD"
        },
        "callback_url": callbackUrl,
        "client_id": clientId,
        "version": "1.1",
        "notes": "totall optional note",
        "options": {
            "supported_tender_types": ["CREDIT_CARD", "CASH"]
        }
    }
    document.getElementById('chargeButton').href = 'square-commerce-v1://payment/create?data=' + encodeURIComponent(JSON.stringify(iOSparameters))
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies
    Reveal.initialize({
    	loop: true,
    	dependencies: [
    	{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
    	]
    });
</script>
<script type="text/javascript" src="js/main.js"></script>
</body>

</html>